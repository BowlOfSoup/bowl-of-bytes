<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Manually upgrading a Raspberry Pi 2 | Bowl Of Bytes</title>
<meta name="keywords" content="Raspberry, Linux">
<meta name="description" content="I needed to dust off my trusty Raspberry Pi 2 for a new project, only to discover its Raspbian version was ancient history.
With no SD-card reader in sight, I took the road less traveled: a manual upgrade adventure.">
<meta name="author" content="">
<link rel="canonical" href="https://bowlofbytes.com/posts/manually-upgrading-a-raspberry-pi-2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://bowlofbytes.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://bowlofbytes.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://bowlofbytes.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://bowlofbytes.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://bowlofbytes.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://bowlofbytes.com/posts/manually-upgrading-a-raspberry-pi-2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
    
        <link rel="stylesheet" href="/css/custom.css">
    
<meta property="og:url" content="https://bowlofbytes.com/posts/manually-upgrading-a-raspberry-pi-2/">
  <meta property="og:site_name" content="Bowl Of Bytes">
  <meta property="og:title" content="Manually upgrading a Raspberry Pi 2">
  <meta property="og:description" content="I needed to dust off my trusty Raspberry Pi 2 for a new project, only to discover its Raspbian version was ancient history. With no SD-card reader in sight, I took the road less traveled: a manual upgrade adventure.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-12T00:13:00+01:00">
    <meta property="article:modified_time" content="2024-11-12T00:13:00+01:00">
    <meta property="article:tag" content="Raspberry">
    <meta property="article:tag" content="Linux">
    <meta property="og:image" content="https://bowlofbytes.com/images/manually-upgrading-a-raspberry-pi-2.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://bowlofbytes.com/images/manually-upgrading-a-raspberry-pi-2.jpg">
<meta name="twitter:title" content="Manually upgrading a Raspberry Pi 2">
<meta name="twitter:description" content="I needed to dust off my trusty Raspberry Pi 2 for a new project, only to discover its Raspbian version was ancient history.
With no SD-card reader in sight, I took the road less traveled: a manual upgrade adventure.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://bowlofbytes.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Manually upgrading a Raspberry Pi 2",
      "item": "https://bowlofbytes.com/posts/manually-upgrading-a-raspberry-pi-2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Manually upgrading a Raspberry Pi 2",
  "name": "Manually upgrading a Raspberry Pi 2",
  "description": "I needed to dust off my trusty Raspberry Pi 2 for a new project, only to discover its Raspbian version was ancient history. With no SD-card reader in sight, I took the road less traveled: a manual upgrade adventure.\n",
  "keywords": [
    "Raspberry", "Linux"
  ],
  "articleBody": "I needed to dust off my trusty Raspberry Pi 2 for a new project, only to discover its Raspbian version was ancient history. With no SD-card reader in sight, I took the road less traveled: a manual upgrade adventure.\nI’ve set out on a quest to build myself a homelab, with some network infrastructure. As VPN gateway I decided to use my Raspberry PI 2, with 1GB of RAM and a ARMv7 1200Mhz processor.\nI booted up the Raspberry, and used the recovery mode to reset the OS to its original, which was Raspbian Jessie. With Jessie officially retired and brimming with potential security risks, upgrading to the shiny new Raspbian Bookworm became my quest.\nI didn’t have an SD-card reader, so I couldn’t just flash a new image to the SD-card. No problem! We can just manually upgrade.\nSince Raspbian installs with a GUI, lets get rid of that first. With Ctrl+Alt+1 we can switch to a terminal. Login with pi and password raspberry. You should change this later ;)\n1 2 3 4 5 6 7 # Remove GUI packages to free up space and simplify the system. sudo apt purge --auto-remove \\ raspberrypi-ui-mods lxpanel lxappearance openbox lightdm xserver* \\ libreoffice* gvfs* desktop-base pix* gnome* gpicview xarchiver \\ chromium* x11-xserver-util xserver-xorg libx11-* wolfram-engine xarchiver \\ xfont* desktop-base openjdk-11-jdk libgtk2* libgtk* imagemagick* \\ gnome-icon-theme adwaita-icon-theme qt-* qt5* xpdf* *wayland* ⚠️️ This command aggressively removes GUI-related packages and dependencies. Double-check the list to ensure you’re not removing something critical for your setup.\nNow for the upgrading process, upgrading directly to the newest version is not recommended because of the huge amount of changes in dependencies.\nSince we’re working with Jessie we can’t use the configured repository, since it’s no longer available.\n→ Remove all other lines, and add this one to /etc/apt/sources.list:\n1 deb http://legacy.raspbian.org/raspbian/ jessie main contrib non-free rpi → Run the following commands to update all the Jessie packages:\n1 2 3 4 sudo apt update sudo apt upgrade -y sudo apt dist-upgrade -y sudo apt autoremove -y To Stretch → Now we can upgrade to Stretch. Change /etc/apt/sources.list to this line:\n1 deb http://legacy.raspbian.org/raspbian/ stretch main contrib non-free rpi → Replace jessie with stretch in the /etc/apt/sources.list.d/*.list files, and upgrade away:\n1 2 3 4 5 sudo sed -i 's/jessie/stretch/g' /etc/apt/sources.list.d/*.list sudo apt update sudo apt upgrade -y sudo apt dist-upgrade -y sudo apt autoremove -y To Buster → Repeat the same to upgrade to Buster; in /etc/apt/sources.list:\n1 deb http://legacy.raspbian.org/raspbian/ buster main contrib non-free rpi → Then run:\n1 2 3 4 5 sudo sed -i 's/stretch/buster/g' /etc/apt/sources.list.d/*.list sudo apt update sudo apt upgrade -y sudo apt dist-upgrade -y sudo apt autoremove -y To Bullseye → Again, repeat the same to upgrade to Bullseye; in /etc/apt/sources.list:\n1 deb http://raspbian.raspberrypi.org/raspbian/ bullseye main contrib non-free rpi → Then run:\n1 sudo sed -i 's/buster/bullseye/g' /etc/apt/sources.list.d/*.list To upgrade to Bullseye, we manually have to remove the ui repo from the *.list files, since it’s not available anymore.\n→ Edit every file in /etc/apt/sources.list.d/ and remove the ui string.\n→ Now run the following, and pay attention to installing gcc-8-base:\n1 2 3 4 5 sudo apt update sudo apt upgrade -y sudo apt install gcc-8-base sudo apt dist-upgrade -y sudo apt autoremove -y To Bookworm! And lastly, we can upgrade to Bookworm. In /etc/apt/sources.list:\n1 deb http://raspbian.raspberrypi.org/raspbian/ bookworm main contrib non-free rpi → Now for the last time :)\n1 2 3 4 5 6 sudo sed -i 's/bullseye/bookworm/g' /etc/apt/sources.list.d/*.list sudo apt update sudo apt upgrade -y sudo apt dist-upgrade -y sudo apt autoremove -y sudo reboot And there you have it! A Raspberry Pi 2, manually upgraded to the latest version of Raspbian. Verify this by running cat /etc/os-release, and you should see:\n1 PRETTY_NAME=\"Raspbian GNU/Linux 12 (bookworm)\" ",
  "wordCount" : "630",
  "inLanguage": "en",
  "image":"https://bowlofbytes.com/images/manually-upgrading-a-raspberry-pi-2.jpg","datePublished": "2024-11-12T00:13:00+01:00",
  "dateModified": "2024-11-12T00:13:00+01:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://bowlofbytes.com/posts/manually-upgrading-a-raspberry-pi-2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Bowl Of Bytes",
    "logo": {
      "@type": "ImageObject",
      "url": "https://bowlofbytes.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://bowlofbytes.com/" accesskey="h" title="Bowl Of Bytes (Alt + H)">Bowl Of Bytes</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://bowlofbytes.com/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://bowlofbytes.com/overview/" title="Overview">
                    <span>Overview</span>
                </a>
            </li>
            <li>
                <a href="https://bowlofbytes.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://bowlofbytes.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Manually upgrading a Raspberry Pi 2
    </h1>
    <div class="post-meta"><span title='2024-11-12 00:13:00 +0100 +0100'>November 12, 2024</span>&nbsp;·&nbsp;3 min

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="https://bowlofbytes.com/images/manually-upgrading-a-raspberry-pi-2.jpg" alt="image-manually-upgrading-a-raspberry-pi-2">
        
</figure>
  <div class="post-content"><p>I needed to dust off my trusty Raspberry Pi 2 for a new project, only to discover its Raspbian version was ancient history.
With no SD-card reader in sight, I took the road less traveled: a manual upgrade adventure.</p>
<p>I&rsquo;ve set out on a quest to build myself a homelab, with some network infrastructure.
As VPN gateway I decided to use my Raspberry PI 2, with 1GB of RAM and a ARMv7 1200Mhz processor.</p>
<p>I booted up the Raspberry, and used the recovery mode to reset the OS to its original, which was Raspbian Jessie.
With Jessie officially retired and brimming with potential security risks, upgrading to the shiny new Raspbian Bookworm
became my quest.</p>
<p>I didn&rsquo;t have an SD-card reader, so I couldn&rsquo;t just flash a new image to the SD-card. No problem! We can just manually upgrade.</p>
<p>Since Raspbian installs with a GUI, lets get rid of that first. With <code>Ctrl</code>+<code>Alt</code>+<code>1</code> we can switch to a terminal.
Login with <code>pi</code> and password <code>raspberry</code>. You should change this later ;)</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#78787e"># Remove GUI packages to free up space and simplify the system.</span>
</span></span><span style="display:flex;"><span>sudo apt purge --auto-remove <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>raspberrypi-ui-mods lxpanel lxappearance openbox lightdm xserver* <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>libreoffice* gvfs* desktop-base pix* gnome* gpicview xarchiver <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>chromium* x11-xserver-util xserver-xorg libx11-* wolfram-engine xarchiver <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>xfont* desktop-base openjdk-11-jdk libgtk2* libgtk* imagemagick* <span style="color:#5af78e">\
</span></span></span><span style="display:flex;"><span><span style="color:#5af78e"></span>gnome-icon-theme adwaita-icon-theme qt-* qt5* xpdf* *wayland*
</span></span></code></pre></td></tr></table>
</div>
</div><p>⚠️️ This command aggressively removes GUI-related packages and dependencies. Double-check the list to ensure you’re not
removing something critical for your setup.</p>
<p>Now for the upgrading process, upgrading directly to the newest version is not recommended because of the huge amount of changes in dependencies.</p>
<p>Since we&rsquo;re working with <em>Jessie</em> we can&rsquo;t use the configured repository, since it&rsquo;s no longer available.</p>
<p><span style="color: #B8BB25;">→</span> Remove all other lines, and add this one to <code>/etc/apt/sources.list</code>:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>deb http://legacy.raspbian.org/raspbian/ jessie main contrib non-free rpi
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #B8BB25;">→</span> Run the following commands to update all the <em>Jessie</em> packages:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt upgrade -y
</span></span><span style="display:flex;"><span>sudo apt dist-upgrade -y
</span></span><span style="display:flex;"><span>sudo apt autoremove -y
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="to-stretch">To Stretch<a hidden class="anchor" aria-hidden="true" href="#to-stretch">#</a></h3>
<p><span style="color: #B8BB25;">→</span> Now we can upgrade to <em>Stretch</em>. Change <code>/etc/apt/sources.list</code> to this line:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>deb http://legacy.raspbian.org/raspbian/ stretch main contrib non-free rpi
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #B8BB25;">→</span> Replace <code>jessie</code> with <code>stretch</code> in the <code>/etc/apt/sources.list.d/*.list</code> files, and upgrade away:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo sed -i <span style="color:#5af78e">&#39;s/jessie/stretch/g&#39;</span> /etc/apt/sources.list.d/*.list
</span></span><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt upgrade -y
</span></span><span style="display:flex;"><span>sudo apt dist-upgrade -y
</span></span><span style="display:flex;"><span>sudo apt autoremove -y
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="to-buster">To Buster<a hidden class="anchor" aria-hidden="true" href="#to-buster">#</a></h3>
<p><span style="color: #B8BB25;">→</span> Repeat the same to upgrade to <em>Buster</em>; in <code>/etc/apt/sources.list</code>:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>deb http://legacy.raspbian.org/raspbian/ buster main contrib non-free rpi
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #B8BB25;">→</span> Then run:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo sed -i <span style="color:#5af78e">&#39;s/stretch/buster/g&#39;</span> /etc/apt/sources.list.d/*.list
</span></span><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt upgrade -y
</span></span><span style="display:flex;"><span>sudo apt dist-upgrade -y
</span></span><span style="display:flex;"><span>sudo apt autoremove -y
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="to-bullseye">To Bullseye<a hidden class="anchor" aria-hidden="true" href="#to-bullseye">#</a></h3>
<p><span style="color: #B8BB25;">→</span> Again, repeat the same to upgrade to <em>Bullseye</em>; in <code>/etc/apt/sources.list</code>:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>deb http://raspbian.raspberrypi.org/raspbian/ bullseye main contrib non-free rpi
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #B8BB25;">→</span> Then run:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo sed -i <span style="color:#5af78e">&#39;s/buster/bullseye/g&#39;</span> /etc/apt/sources.list.d/*.list
</span></span></code></pre></td></tr></table>
</div>
</div><p>To upgrade to <em>Bullseye</em>, we manually have to remove the <code>ui</code> repo from the <code>*.list</code> files, since it&rsquo;s not available anymore.</p>
<p><span style="color: #B8BB25;">→</span> Edit every file in <code>/etc/apt/sources.list.d/</code> and remove the <code>ui</code> string.</p>
<p><span style="color: #B8BB25;">→</span> Now run the following, and pay attention to installing <code>gcc-8-base</code>:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt upgrade -y
</span></span><span style="display:flex;"><span>sudo apt install gcc-8-base
</span></span><span style="display:flex;"><span>sudo apt dist-upgrade -y
</span></span><span style="display:flex;"><span>sudo apt autoremove -y
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="to-bookworm">To Bookworm!<a hidden class="anchor" aria-hidden="true" href="#to-bookworm">#</a></h3>
<p>And lastly, we can upgrade to <em>Bookworm</em>. In <code>/etc/apt/sources.list</code>:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>deb http://raspbian.raspberrypi.org/raspbian/ bookworm main contrib non-free rpi
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #B8BB25;">→</span> Now for the last time :)</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo sed -i <span style="color:#5af78e">&#39;s/bullseye/bookworm/g&#39;</span> /etc/apt/sources.list.d/*.list
</span></span><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt upgrade -y
</span></span><span style="display:flex;"><span>sudo apt dist-upgrade -y
</span></span><span style="display:flex;"><span>sudo apt autoremove -y
</span></span><span style="display:flex;"><span>sudo reboot
</span></span></code></pre></td></tr></table>
</div>
</div><p>And there you have it! A Raspberry Pi 2, manually upgraded to the latest version of Raspbian.
Verify this by running <code>cat /etc/os-release</code>, and you should see:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>PRETTY_NAME=&#34;Raspbian GNU/Linux 12 (bookworm)&#34;
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://bowlofbytes.com/tags/raspberry/">Raspberry</a></li>
      <li><a href="https://bowlofbytes.com/tags/linux/">Linux</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://bowlofbytes.com/">Bowl Of Bytes</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
