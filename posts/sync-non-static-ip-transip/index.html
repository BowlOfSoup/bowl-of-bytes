<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Sync a non-static IP with a domain provider via APIs | Bowl Of Bytes</title>
<meta name="keywords" content="Go, Software, Linux, DNS">
<meta name="description" content="The next quest in my homelab adventure was to make sure my domain name always points to my home network,
even if my ISP changes my public IP address. See how I solved this with TransIP.">
<meta name="author" content="">
<link rel="canonical" href="https://bowlofbytes.com/posts/sync-non-static-ip-transip/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://bowlofbytes.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://bowlofbytes.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://bowlofbytes.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://bowlofbytes.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://bowlofbytes.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://bowlofbytes.com/posts/sync-non-static-ip-transip/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
    
        <link rel="stylesheet" href="/css/custom.css">
    
<meta property="og:url" content="https://bowlofbytes.com/posts/sync-non-static-ip-transip/">
  <meta property="og:site_name" content="Bowl Of Bytes">
  <meta property="og:title" content="Sync a non-static IP with a domain provider via APIs">
  <meta property="og:description" content="The next quest in my homelab adventure was to make sure my domain name always points to my home network, even if my ISP changes my public IP address. See how I solved this with TransIP.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-10T00:08:01+01:00">
    <meta property="article:modified_time" content="2024-12-10T00:08:01+01:00">
    <meta property="article:tag" content="Go">
    <meta property="article:tag" content="Software">
    <meta property="article:tag" content="Linux">
    <meta property="article:tag" content="DNS">
    <meta property="og:image" content="https://bowlofbytes.com/images/sync-non-static-ip-transip.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://bowlofbytes.com/images/sync-non-static-ip-transip.jpg">
<meta name="twitter:title" content="Sync a non-static IP with a domain provider via APIs">
<meta name="twitter:description" content="The next quest in my homelab adventure was to make sure my domain name always points to my home network,
even if my ISP changes my public IP address. See how I solved this with TransIP.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://bowlofbytes.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Sync a non-static IP with a domain provider via APIs",
      "item": "https://bowlofbytes.com/posts/sync-non-static-ip-transip/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Sync a non-static IP with a domain provider via APIs",
  "name": "Sync a non-static IP with a domain provider via APIs",
  "description": "The next quest in my homelab adventure was to make sure my domain name always points to my home network, even if my ISP changes my public IP address. See how I solved this with TransIP.\n",
  "keywords": [
    "Go", "Software", "Linux", "DNS"
  ],
  "articleBody": "The next quest in my homelab adventure was to make sure my domain name always points to my home network, even if my ISP changes my public IP address. See how I solved this with TransIP.\nThe challenge My ISP does not provide be with a static IPv4 or IPv6 address. This means that my public IP address can change. Not handy if you want to access your home network from the outside via a domain name. This can be solved by using a DDNS (Dynamic DNS) provider. DDNS automatically updates the DNS records of your domain whenever your IP address changes. A popular DDNS provider is e.g. DuckDNS\nBut. Since I’m a developer I wanted to build my on tool. Because quests without adventures are just chores, right?\nMy domain is registered at TransIP, a well known Dutch domain provider. TransIP provides a set of APIs to manage domain settings, like DNS records. If you have an account you can go to the API settings and generate a Key Pair to be able to access the API. You’ll get to see the private key only once, so make sure to store it somewhere safe.\nCoding the tool I choose to code the tool in Go. Mainly because I really like Go, and there is a good library to work with Transip APIs available on Github: transip/gotransip.\nYou can find the implementation here: BowlOfSoup/dynamic-ip-syncer.\nTo fetch my public IP addresses I use icanhazip.com. This is a simple service that returns your IPv4 and IPv6 address in plain text. The following URLs can be used:\nhttps://ipv4.icanhazip.com https://ipv6.icanhazip.com And as with all my Go projects, I make a fun Gopher-logo for it:\nCreated via gopherize.me.\nDeploying the tool to a server Ofc you should clone the repository and have Go installed on your machine before attempting to build the tool.\nAlso, I did not build an extensive build or install script or Docker container because of time constraints. But here are the steps I took:\n→ (1) Build the tool\nI myself build the tool for a Raspberry PI.\n1 GOOS=linux GOARCH=arm GOARM=7 go build -o build/dynamic-ip-syncer → (2) Transfer the binary to the server\n1 2 ssh YOUR_USER@YOUR_HOST \"sudo mkdir -p /opt/dynamic-ip-syncer \u0026\u0026 sudo chown YOUR_USER:pi /opt/dynamic-ip-syncer\" scp build/dynamic-ip-syncer YOUR_USER@YOUR_HOST:/opt/dynamic-ip-syncer/ Now on the server itself, configure the tool to run as a service. I used systemd for this.\n→ (3) Create a .service file with the following content:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [Unit] Description=Dynamic IP Syncer After=network.target [Service] ExecStart=/opt/dynamic-ip-syncer/dynamic-ip-syncer WorkingDirectory=/opt/dynamic-ip-syncer Restart=always Environment=CONFIG_PATH=/etc/dynamic-ip-syncer/config.yaml Environment=PRIVATE_KEY_PATH=/etc/dynamic-ip-syncer/private.key StandardOutput=journal StandardError=journal [Install] WantedBy=multi-user.target → (4) move the file to /etc/systemd/system/dynamic-ip-syncer.service and enable the service:\n1 2 3 sudo mv dynamic-ip-syncer.service /etc/systemd/system/ sudo chown root:root /etc/systemd.system/dynamic-ip-syncer.service \u0026\u0026 sudo chmod 644 /etc/systemd/system/dynamic-ip-syncer.service sudo systemctl enable dynamic-ip-syncer → (5) Make sure to create a config.yaml file in /etc/dynamic-ip-syncer/ with the correct values.\n→ (6) Make sure to create a private.key file in /etc/dynamic-ip-syncer/ with the private key you got from TransIP.\n→ (7) Start the service; the service will run in the background, and starts on reboot.\n1 sudo systemctl start dynamic-ip-syncer You can view the logs with the following command:\n1 sudo journalctl -u dynamic-ip-syncer --since \"2 hours ago\" ",
  "wordCount" : "541",
  "inLanguage": "en",
  "image":"https://bowlofbytes.com/images/sync-non-static-ip-transip.jpg","datePublished": "2024-12-10T00:08:01+01:00",
  "dateModified": "2024-12-10T00:08:01+01:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://bowlofbytes.com/posts/sync-non-static-ip-transip/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Bowl Of Bytes",
    "logo": {
      "@type": "ImageObject",
      "url": "https://bowlofbytes.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://bowlofbytes.com/" accesskey="h" title="Bowl Of Bytes (Alt + H)">Bowl Of Bytes</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://bowlofbytes.com/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://bowlofbytes.com/overview/" title="Overview">
                    <span>Overview</span>
                </a>
            </li>
            <li>
                <a href="https://bowlofbytes.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://bowlofbytes.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Sync a non-static IP with a domain provider via APIs
    </h1>
    <div class="post-meta"><span title='2024-12-10 00:08:01 +0100 +0100'>December 10, 2024</span>&nbsp;·&nbsp;3 min

</div>
  </header> 
<figure class="entry-cover"><img loading="eager" src="https://bowlofbytes.com/images/sync-non-static-ip-transip.jpg" alt="image-sync-non-static-ip-transip">
        
</figure>
  <div class="post-content"><p>The next quest in my homelab adventure was to make sure my domain name always points to my home network,
even if my ISP changes my public IP address. See how I solved this with TransIP.</p>
<h3 id="the-challenge">The challenge<a hidden class="anchor" aria-hidden="true" href="#the-challenge">#</a></h3>
<p>My ISP does not provide be with a static IPv4 or IPv6 address. This means that my public IP address can change.
Not handy if you want to access your home network from the outside via a domain name. This can be solved by using a
DDNS (Dynamic DNS) provider. DDNS automatically updates the DNS records of your domain whenever your IP address changes.
A popular DDNS provider is e.g. <a href="https://www.duckdns.org/" target="_blank" rel="noopener noreferrer nofollow">DuckDNS</a></p>
<p>But. Since I&rsquo;m a developer I wanted to build my on tool. <em>Because quests without adventures are just chores</em>, right?</p>
<p>My domain is registered at <a href="https://www.transip.nl/" target="_blank" rel="noopener noreferrer nofollow">TransIP</a>, a well known Dutch domain provider.
TransIP provides a set of APIs to manage domain settings, like DNS records. If you have an account you can go to the
<a href="https://www.transip.nl/cp/account/api/" target="_blank" rel="noopener noreferrer nofollow">API settings</a> and generate a Key Pair to be able to access the API. You&rsquo;ll
get to see the private key only once, so make sure to store it somewhere safe.</p>
<h3 id="coding-the-tool">Coding the tool<a hidden class="anchor" aria-hidden="true" href="#coding-the-tool">#</a></h3>
<p>I choose to code the tool in Go. Mainly because I really like Go, and there is a good library to work with Transip APIs
available on Github: <a href="https://github.com/transip/gotransip" target="_blank" rel="noopener noreferrer nofollow">transip/gotransip</a>.</p>
<p>You can find the implementation here: <a href="https://github.com/BowlOfSoup/dynamic-ip-syncer" target="_blank" rel="noopener noreferrer nofollow">BowlOfSoup/dynamic-ip-syncer</a>.</p>
<p>To fetch my public IP addresses I use <a href="https://icanhazip.com/" target="_blank" rel="noopener noreferrer nofollow">icanhazip.com</a>. This is a simple service that returns your
IPv4 and IPv6 address in plain text. The following URLs can be used:</p>
<ul>
<li><a href="https://ipv4.icanhazip.com" target="_blank" rel="noopener noreferrer nofollow">https://ipv4.icanhazip.com</a></li>
<li><a href="https://ipv6.icanhazip.com" target="_blank" rel="noopener noreferrer nofollow">https://ipv6.icanhazip.com</a></li>
</ul>
<p>And as with all my Go projects, I make a fun Gopher-logo for it:</p>
<p><img alt="Go logo" loading="lazy" src="/images/sync-non-static-ip-transip-go-logo.png" title="Go logo"></p>
<p>Created via <a href="https://gopherize.me/" target="_blank" rel="noopener noreferrer nofollow">gopherize.me</a>.</p>
<h3 id="deploying-the-tool-to-a-server">Deploying the tool to a server<a hidden class="anchor" aria-hidden="true" href="#deploying-the-tool-to-a-server">#</a></h3>
<p>Ofc you should clone the repository and have Go installed on your machine before attempting to build the tool.</p>
<p>Also, I did not build an extensive build or install script or Docker container because of time constraints. But here are the steps I took:</p>
<p><span style="color: #7843E6;">→</span> (1) Build the tool</p>
<p>I myself build the tool for a Raspberry PI.</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#ff5c57">GOOS</span><span style="color:#ff6ac1">=</span>linux <span style="color:#ff5c57">GOARCH</span><span style="color:#ff6ac1">=</span>arm <span style="color:#ff5c57">GOARM</span><span style="color:#ff6ac1">=</span><span style="color:#ff9f43">7</span> go build -o build/dynamic-ip-syncer
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #7843E6;">→</span> (2) Transfer the binary to the server</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh YOUR_USER@YOUR_HOST <span style="color:#5af78e">&#34;sudo mkdir -p /opt/dynamic-ip-syncer &amp;&amp; sudo chown YOUR_USER:pi /opt/dynamic-ip-syncer&#34;</span>
</span></span><span style="display:flex;"><span>scp build/dynamic-ip-syncer YOUR_USER@YOUR_HOST:/opt/dynamic-ip-syncer/
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>Now on the server itself</strong>, configure the tool to run as a service. I used <code>systemd</code> for this.</p>
<p><span style="color: #7843E6;">→</span> (3) Create a <code>.service</code> file with the following content:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[Unit]
</span></span><span style="display:flex;"><span>Description=Dynamic IP Syncer
</span></span><span style="display:flex;"><span>After=network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[Service]
</span></span><span style="display:flex;"><span>ExecStart=/opt/dynamic-ip-syncer/dynamic-ip-syncer
</span></span><span style="display:flex;"><span>WorkingDirectory=/opt/dynamic-ip-syncer
</span></span><span style="display:flex;"><span>Restart=always
</span></span><span style="display:flex;"><span>Environment=CONFIG_PATH=/etc/dynamic-ip-syncer/config.yaml
</span></span><span style="display:flex;"><span>Environment=PRIVATE_KEY_PATH=/etc/dynamic-ip-syncer/private.key
</span></span><span style="display:flex;"><span>StandardOutput=journal
</span></span><span style="display:flex;"><span>StandardError=journal
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[Install]
</span></span><span style="display:flex;"><span>WantedBy=multi-user.target
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #7843E6;">→</span> (4) move the file to <code>/etc/systemd/system/dynamic-ip-syncer.service</code> and enable the service:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sudo mv dynamic-ip-syncer.service /etc/systemd/system/
</span></span><span style="display:flex;"><span>sudo chown root:root /etc/systemd.system/dynamic-ip-syncer.service &amp;&amp; sudo chmod 644 /etc/systemd/system/dynamic-ip-syncer.service
</span></span><span style="display:flex;"><span>sudo systemctl enable dynamic-ip-syncer
</span></span></code></pre></td></tr></table>
</div>
</div><p><span style="color: #7843E6;">→</span> (5) Make sure to create a <code>config.yaml</code> file in <code>/etc/dynamic-ip-syncer/</code> with the correct values.</p>
<p><span style="color: #7843E6;">→</span> (6) Make sure to create a <code>private.key</code> file in <code>/etc/dynamic-ip-syncer/</code> with the private key you got from TransIP.</p>
<p><span style="color: #7843E6;">→</span> (7) Start the service; the service will run in the background, and starts on reboot.</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl start dynamic-ip-syncer
</span></span></code></pre></td></tr></table>
</div>
</div><p>You can view the <strong>logs</strong> with the following command:</p>
<div class="highlight"><div style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo journalctl -u dynamic-ip-syncer --since <span style="color:#5af78e">&#34;2 hours ago&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://bowlofbytes.com/tags/go/">Go</a></li>
      <li><a href="https://bowlofbytes.com/tags/software/">Software</a></li>
      <li><a href="https://bowlofbytes.com/tags/linux/">Linux</a></li>
      <li><a href="https://bowlofbytes.com/tags/dns/">DNS</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://bowlofbytes.com/">Bowl Of Bytes</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
